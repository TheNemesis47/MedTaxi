<!DOCTYPE html>
<html>
<head>
    <title>Visualizza la Rotta</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-7VoL5g7xLox1cZA9KVYEAu6l34FZ-tQ&callback=initMap&libraries=maps,marker&v=beta"></script>
    <script>
        var map;
        var directionsService;
        var directionsRenderer;

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 0, lng: 0 },
                zoom: 6
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer();
            directionsRenderer.setMap(map);

            calculateAndDisplayRoute();
        }

        function calculateAndDisplayRoute(start, end) {
            var request = {
                origin: start,
                destination: end,
                travelMode: 'DRIVING'
            };

            directionsService.route(request, function(result, status) {
                if (status == 'OK') {
                    directionsRenderer.setDirections(result);
                }
            });
        }

        function setRouteCoordinates(latStart, lngStart, latEnd, lngEnd) {
            var start = new google.maps.LatLng(latStart, lngStart);
            var end = new google.maps.LatLng(latEnd, lngEnd);
            calculateAndDisplayRoute(start, end);
        }
    </script>
</head>
<body onload="initMap()">
<div id="map" style="height: 400px;"></div>
</body>
</html>